<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>ModÃ¼l 10: Blockchain GÃ¼venli Log</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #2c3e50; color: white; text-align: center; padding: 20px; }
        .chain-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 30px; }

        .block {
            background: #fff;
            color: #333;
            width: 300px;
            padding: 15px;
            border-radius: 10px;
            text-align: left;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            border-left: 10px solid #27ae60; /* YeÅŸil (GÃ¼venli) */
        }

        /* Zincir Bozulursa KÄ±rmÄ±zÄ± Olsun */
        .broken { border-left-color: #c0392b !important; background: #fadbd8; }

        .block h3 { margin-top: 0; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
        .hash { font-family: monospace; font-size: 10px; word-break: break-all; color: #555; }
        .data { font-weight: bold; color: #2980b9; }

        .arrow { font-size: 30px; align-self: center; color: #bdc3c7; }

        .status-box { padding: 20px; margin-bottom: 20px; border-radius: 5px; font-weight: bold; font-size: 1.2rem; }
        .status-ok { background-color: #27ae60; }
        .status-err { background-color: #c0392b; animation: shake 0.5s; }

        .btn-tamper { background-color: #e74c3c; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-top: 20px; }

        @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } 100% { transform: translateX(0); } }
    </style>
</head>
<body>

    <h1>ğŸ”— Blockchain TabanlÄ± GÃ¼venli Log Sistemi</h1>
    <p>TÃ¼m eylemleriniz deÄŸiÅŸtirilemez bloklar halinde saklanÄ±r. Zincir bozulursa sistem algÄ±lar.</p>

    {% if durum %}
        <div class="status-box status-ok">âœ… {{ mesaj }}</div>
    {% else %}
        <div class="status-box status-err">ğŸš¨ {{ mesaj }}</div>
    {% endif %}

    <form action="/blockchain/tamper" method="POST">
        <button type="submit" class="btn-tamper">ğŸ˜ˆ LoglarÄ± DeÄŸiÅŸtirmeyi Dene (Hack)</button>
    </form>
    <p style="font-size: 12px; color: #bdc3c7;">(Bu butona basmak, zincirdeki geÃ§miÅŸ bir kaydÄ± deÄŸiÅŸtirecek ve hash bÃ¼tÃ¼nlÃ¼ÄŸÃ¼nÃ¼ bozacaktÄ±r)</p>

    <div class="chain-container">
        {% for block in chain %}
            <div class="block {{ 'broken' if not block.is_valid else '' }}">
                <h3>BLOK #{{ block.index }}</h3>
                <p><strong>Zaman:</strong> {{ block.timestamp }}</p>
                <p><strong>Veri:</strong> <span class="data">{{ block.data }}</span></p>

                <p style="margin-bottom:0;"><strong>Ã–nceki Hash:</strong></p>
                <div class="hash">{{ block.previous_hash }}</div>

                <p style="margin-bottom:0;"><strong>Kendi Hash'i:</strong></p>
                <div class="hash">{{ block.hash }}</div>
            </div>

            {% if not loop.last %}
                <div class="arrow">âœ</div>
            {% endif %}
        {% endfor %}
    </div>

    <a href="/" style="display:block; margin-top:40px; color: #bdc3c7; text-decoration:none;">â† Ana MenÃ¼ye DÃ¶n</a>

</body>
</html>